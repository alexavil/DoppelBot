{"version":3,"file":"index.js","sourceRoot":"","sources":["../play-dl/index.ts"],"names":[],"mappings":"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","sourcesContent":["export {\n    playlist_info,\n    video_basic_info,\n    video_info,\n    decipher_info,\n    yt_validate,\n    extractID,\n    YouTube,\n    YouTubeStream,\n    cookieHeaders\n} from './YouTube';\nexport { spotify, sp_validate, refreshToken, is_expired, Spotify } from './Spotify';\nexport { soundcloud, so_validate, SoundCloud, SoundCloudStream, getFreeClientID } from './SoundCloud';\nexport { deezer, dz_validate, dz_search, dz_advanced_track_search, Deezer } from './Deezer';\nexport { setToken } from './token';\n\nenum AudioPlayerStatus {\n    Idle = 'idle',\n    Buffering = 'buffering',\n    Paused = 'paused',\n    Playing = 'playing',\n    AutoPaused = 'autopaused'\n}\n\ninterface SearchOptions {\n    limit?: number;\n    source?: {\n        youtube?: 'video' | 'playlist' | 'channel';\n        spotify?: 'album' | 'playlist' | 'track';\n        soundcloud?: 'tracks' | 'playlists' | 'albums';\n        deezer?: 'track' | 'playlist' | 'album';\n    };\n}\n\nimport readline from 'node:readline';\nimport fs from 'node:fs';\nimport {\n    sp_validate,\n    yt_validate,\n    so_validate,\n    YouTubeStream,\n    SoundCloudStream,\n    YouTube,\n    SoundCloud,\n    Spotify\n} from '.';\nimport { SpotifyAuthorize, sp_search } from './Spotify';\nimport { check_id, so_search, stream as so_stream, stream_from_info as so_stream_info } from './SoundCloud';\nimport { InfoData, stream as yt_stream, StreamOptions, stream_from_info as yt_stream_info } from './YouTube/stream';\nimport { SoundCloudTrack } from './SoundCloud/classes';\nimport { yt_search } from './YouTube/search';\nimport { EventEmitter } from 'stream';\nimport { Deezer, dz_search, dz_validate } from './Deezer';\n/**\n * Main stream Command for streaming through various sources\n * @param url The video / track url to make stream of\n * @param options contains quality, cookie and proxy to set for stream\n * @returns YouTube / SoundCloud Stream to play\n */\n\nexport async function stream(url: string, options: StreamOptions = {}): Promise<YouTubeStream | SoundCloudStream> {\n    if (url.length === 0) throw new Error('Stream URL has a length of 0. Check your url again.');\n    if (url.indexOf('spotify') !== -1) {\n        throw new Error(\n            'Streaming from Spotify is not supported. Please use search() to find a similar track on YouTube or SoundCloud instead.'\n        );\n    }\n    if (url.indexOf('deezer') !== -1) {\n        throw new Error(\n            'Streaming from Deezer is not supported. Please use search() to find a similar track on YouTube or SoundCloud instead.'\n        );\n    }\n    if (url.indexOf('soundcloud') !== -1) return await so_stream(url, options.quality);\n    else return await yt_stream(url, options);\n}\n\n/**\n *  Main Search Command for searching through various sources\n * @param query string to search.\n * @param options contains limit and source to choose.\n * @returns Array of YouTube or Spotify or SoundCloud or Deezer\n */\nexport async function search(\n    query: string,\n    options: SearchOptions = {}\n): Promise<YouTube[] | Spotify[] | SoundCloud[] | Deezer[]> {\n    if (!options.source) options.source = { youtube: 'video' };\n    query = encodeURIComponent(query);\n    if (options.source.youtube) return await yt_search(query, { limit: options.limit, type: options.source.youtube });\n    else if (options.source.spotify) return await sp_search(query, options.source.spotify, options.limit);\n    else if (options.source.soundcloud) return await so_search(query, options.source.soundcloud, options.limit);\n    else if (options.source.deezer)\n        return await dz_search(query, { limit: options.limit, type: options.source.deezer });\n    else throw new Error('Not possible to reach Here LOL. Easter Egg of play-dl if someone get this.');\n}\n\n/**\n *  stream Command for streaming through various sources using data from video_info or soundcloud\n *  SoundCloud Track is only supported\n * @param info video_info data or SoundCloud Track data.\n * @param options contains quality, cookie and proxy to set for stream\n * @returns YouTube / SoundCloud Stream to play\n */\nexport async function stream_from_info(\n    info: InfoData | SoundCloudTrack,\n    options: StreamOptions = {}\n): Promise<YouTubeStream | SoundCloudStream> {\n    if (info instanceof SoundCloudTrack) return await so_stream_info(info, options.quality);\n    else return await yt_stream_info(info, options);\n}\n/**\n * Command to validate the provided url. It checks whether it supports play-dl or not.\n * @param url url to validate\n * @returns On failure, returns false else type of url.\n */\nexport async function validate(\n    url: string\n): Promise<\n    | 'so_playlist'\n    | 'so_track'\n    | 'sp_track'\n    | 'sp_album'\n    | 'sp_playlist'\n    | 'dz_track'\n    | 'dz_playlist'\n    | 'dz_album'\n    | 'yt_video'\n    | 'yt_playlist'\n    | 'search'\n    | false\n> {\n    let check;\n    if (!url.startsWith('https')) return 'search';\n    if (url.indexOf('spotify') !== -1) {\n        check = sp_validate(url);\n        return check !== false ? (('sp_' + check) as 'sp_track' | 'sp_album' | 'sp_playlist') : false;\n    } else if (url.indexOf('soundcloud') !== -1) {\n        check = await so_validate(url);\n        return check !== false ? (('so_' + check) as 'so_playlist' | 'so_track') : false;\n    } else if (url.indexOf('deezer') !== -1) {\n        check = await dz_validate(url);\n        return check !== false ? (('dz_' + check) as 'dz_track' | 'dz_playlist' | 'dz_album') : false;\n    } else {\n        check = yt_validate(url);\n        return check !== false ? (('yt_' + check) as 'yt_video' | 'yt_playlist') : false;\n    }\n}\n/**\n * Authorization interface for Spotify and SoundCloud.\n */\nexport function authorization(): void {\n    const ask = readline.createInterface({\n        input: process.stdin,\n        output: process.stdout\n    });\n    ask.question('Do you want to save data in a file ? (Yes / No): ', (msg) => {\n        let file: boolean;\n        if (msg.toLowerCase() === 'yes') file = true;\n        else if (msg.toLowerCase() === 'no') file = false;\n        else {\n            console.log(\"That option doesn't exist. Try again...\");\n            ask.close();\n            return;\n        }\n        ask.question('Choose your service - sc (for SoundCloud) / sp (for Spotify)  / yo (for YouTube): ', (msg) => {\n            if (msg.toLowerCase().startsWith('sp')) {\n                let client_id: string, client_secret: string, redirect_url: string, market: string;\n                ask.question('Start by entering your Client ID : ', (id) => {\n                    client_id = id;\n                    ask.question('Now enter your Client Secret : ', (secret) => {\n                        client_secret = secret;\n                        ask.question('Enter your Redirect URL now : ', (url) => {\n                            redirect_url = url;\n                            console.log(\n                                '\\nIf you would like to know your region code visit : \\nhttps://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements \\n'\n                            );\n                            ask.question('Enter your region code (2-letter country code) : ', (mar) => {\n                                if (mar.length === 2) market = mar;\n                                else {\n                                    console.log(\n                                        \"That doesn't look like a valid region code, IN will be selected as default.\"\n                                    );\n                                    market = 'IN';\n                                }\n                                console.log(\n                                    '\\nNow open your browser and paste the below url, then authorize it and copy the redirected url. \\n'\n                                );\n                                console.log(\n                                    `https://accounts.spotify.com/authorize?client_id=${client_id}&response_type=code&redirect_uri=${encodeURI(\n                                        redirect_url\n                                    )} \\n`\n                                );\n                                ask.question('Paste the url which you just copied : ', async (url) => {\n                                    if (!fs.existsSync('.data')) fs.mkdirSync('.data');\n                                    const spotifyData = {\n                                        client_id,\n                                        client_secret,\n                                        redirect_url,\n                                        authorization_code: url.split('code=')[1],\n                                        market\n                                    };\n                                    const check = await SpotifyAuthorize(spotifyData, file);\n                                    if (check === false) throw new Error('Failed to get access token.');\n                                    ask.close();\n                                });\n                            });\n                        });\n                    });\n                });\n            } else if (msg.toLowerCase().startsWith('sc')) {\n                if (!file) {\n                    console.log('You already had a client ID, just paste that in setToken function.');\n                    ask.close();\n                    return;\n                }\n                ask.question('Client ID : ', async (id) => {\n                    let client_id = id;\n                    if (!client_id) {\n                        console.log(\"You didn't provide a client ID. Try again...\");\n                        ask.close();\n                        return;\n                    }\n                    if (!fs.existsSync('.data')) fs.mkdirSync('.data');\n                    console.log('Validating your client ID, hold on...');\n                    if (await check_id(client_id)) {\n                        console.log('Client ID has been validated successfully.');\n                        fs.writeFileSync('.data/soundcloud.data', JSON.stringify({ client_id }, undefined, 4));\n                    } else console.log(\"That doesn't look like a valid client ID. Retry with a correct client ID.\");\n                    ask.close();\n                });\n            } else if (msg.toLowerCase().startsWith('yo')) {\n                if (!file) {\n                    console.log('You already had cookie, just paste that in setToken function.');\n                    ask.close();\n                    return;\n                }\n                ask.question('Cookies : ', (cook: string) => {\n                    if (!cook || cook.length === 0) {\n                        console.log(\"You didn't provide a cookie. Try again...\");\n                        ask.close();\n                        return;\n                    }\n                    if (!fs.existsSync('.data')) fs.mkdirSync('.data');\n                    console.log('Cookies has been added successfully.');\n                    let cookie: Object = {};\n                    cook.split(';').forEach((x) => {\n                        const arr = x.split('=');\n                        if (arr.length <= 1) return;\n                        const key = arr.shift()?.trim() as string;\n                        const value = arr.join('=').trim();\n                        Object.assign(cookie, { [key]: value });\n                    });\n                    fs.writeFileSync('.data/youtube.data', JSON.stringify({ cookie }, undefined, 4));\n                    ask.close();\n                });\n            } else {\n                console.log(\"That option doesn't exist. Try again...\");\n                ask.close();\n            }\n        });\n    });\n}\n\nexport function attachListeners(player: EventEmitter, resource: YouTubeStream | SoundCloudStream) {\n    const pauseListener = () => resource.pause();\n    const resumeListener = () => resource.resume();\n    player.on(AudioPlayerStatus.Paused, pauseListener);\n    player.on(AudioPlayerStatus.AutoPaused, pauseListener);\n    player.on(AudioPlayerStatus.Playing, resumeListener);\n    player.once(AudioPlayerStatus.Idle, () => {\n        player.removeListener(AudioPlayerStatus.Paused, pauseListener);\n        player.removeListener(AudioPlayerStatus.AutoPaused, pauseListener);\n        player.removeListener(AudioPlayerStatus.Playing, resumeListener);\n    });\n}\n"]}